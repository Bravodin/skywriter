{
    "depends": [ "Canon", "Types" ],
    "provides":
    [
        {
            "ep": "factory",
            "name": "commandline",
            "action": "value",
            "pointer": "views/cli#cliInputView"
        },
        {
            "ep": "factory",
            "name": "history",
            "action": "create",
            "pointer": "history#InMemoryHistory"
        },
        {
            "ep": "setting",
            "name": "historyTimeMode",
            "description": "Display number|date|none next to each historical instruction",
            "type": { "name": "selection", "data": [ "number", "date", "none" ] },
            "defaultValue": "none"
        },
        {
            "ep": "setting",
            "name": "minConsoleHeight",
            "description": "The maximum size (in pixels) for the command line output area",
            "type": "number",
            "defaultValue": 300
        },
        {
            "ep": "setting",
            "name": "maxConsoleHeight",
            "description": "The minimum size (in pixels) for the command line output area",
            "type": "number",
            "defaultValue": 0
        },
        {
            "ep": "setting",
            "name": "consolePinned",
            "description": "Is the console area pinned open?",
            "type": "boolean",
            "defaultValue": false
        },
        {
            "ep": "command",
            "name": "complete",
            "description": "Accept the proposed completion",
            "predicates": { "isCommandLine": true },
            "key": "tab",
            "pointer": "commands#completeCommand"
        },
        {
            "ep": "command",
            "name": "help",
            "params":
            [
                {
                    "name": "search",
                    "type": "text",
                    "description": "Search string to narrow the output.",
                    "defaultValue": null
                }
            ],
            "description": "Get help on the available commands.",
            "pointer": "commands#helpCommand"
        },
        {
            "ep": "command",
            "name": "alias",
            "params":
            [
                {
                    "name": "alias",
                    "type": "text",
                    "description": "optionally, your alias name",
                    "defaultValue": null
                },
                {
                    "name": "command",
                    "type": "text",
                    "description": "optionally, the command name",
                    "defaultValue": null
                }
            ],
            "description": "define and show aliases for commands",
            "pointer": "commands#aliasCommand"
        },
        {
            "ep": "command",
            "name": "history",
            "description": "Show history of the commands",
            "pointer": "commands#historyCommand"
        },
        {
            "ep": "command",
            "name": "eval",
            "params":
            [
                {
                    "name": "javascript",
                    "type": "text",
                    "description": "The JavaScript to evaluate"
                }
            ],
            "description": "evals given js code and show the result",
            "hidden": true,
            "pointer": "basiccommands#evalCommand"
        },
        {
            "ep": "command",
            "name": "version",
            "description": "show the Bespin version",
            "hidden": true,
            "pointer": "basiccommands#versionCommand"
        },
        {
            "ep": "command",
            "name": "bespin",
            "description": "has",
            "hidden": true,
            "pointer": "basiccommands#bespinCommand"
        },
        {
            "ep": "extensionpoint",
            "name": "typehint",
            "description": "A function to allow the command line to show a hint to the user on how they should finish what they're typing",
            "indexOn": "name"
        },
        {
            "ep": "typehint",
            "name": "selection",
            "description": "A UI for string that is constrained to be one of a number of pre-defined values",
            "pointer": "views/basic#selection"
        },
        {
            "ep": "typehint",
            "name": "boolean",
            "description": "A UI for a boolean",
            "pointer": "views/basic#boolean"
        },

        {
            "ep": "command",
            "name": "tst",
            "description": "Test Command"
        },
        {
            "ep": "command",
            "name": "tst list",
            "params":
            [
                {
                    "name": "first",
                    "type": "text",
                    "description": "First param"
                }
            ],
            "description": "Tst List",
            "pointer": "test/testcommands#tstList"
        },
        {
            "ep": "command",
            "name": "tst add",
            "params":
            [
                {
                    "name": "first",
                    "type": "text",
                    "description": "First param"
                },
                {
                    "name": "second",
                    "type": { "name": "selection", "data": [ "aa", "bb" ] },
                    "description": "Second param"
                },
                {
                    "name": "third",
                    "type": "number",
                    "description": "Third param",
                    "defaultValue": 42
                },
                {
                    "name": "fourth",
                    "type": "boolean",
                    "description": "Fourth param",
                    "defaultValue": true
                }
            ],
            "description": "Tst Add",
            "pointer": "test/testcommands#tstAdd"
        },
        {
            "ep": "command",
            "name": "tst remove",
            "params": [],
            "description": "Tst Remove",
            "pointer": "test/testcommands#tstRemove"
        }
    ]
}
