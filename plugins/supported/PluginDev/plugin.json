{
    "description": "Tools for testing and managing plugins.",
    "depends": ["Types", "BespinServer", "core_test"],
    "provides": [
        {
            "ep": "command",
            "name": "reload",
            "params": [
                {
                    "name": "plugin",
                    "type": "text"
                }
            ],
            "description": "Reload the named plugin.",
            "pointer": "#reloadCommand"
        },
        {
            "ep": "command",
            "name": "test",
            "params": [
                {
                    "name": "testmodule",
                    "type": "text",
                    "description": "Provide a plugin name to run all tests for a plugin, 'all' to run all known tests, or plugin:module to run the tests in a specific module. If you omit this, the last tests run will be run again.",
                    "defaultValue": null
                }
            ],
            "description": "Run a collection of tests.",
            "pointer": "testing#testrunner"
        },
        {
            "ep": "command",
            "name": "plugin",
            "description": "Plugin management"
        },
        {
            "ep": "command",
            "name": "plugin add",
            "description": "Add a file or directory in your Bespin files as a plugin.",
            "params": [
                {
                    "name": "path",
                    "type": "text"
                }
            ],
            "pointer": "commands#add"
        },
        {
            "ep": "command",
            "name": "plugin list",
            "description": "List the installed plugins",
            "pointer": "commands#list"
        },
        {
            "ep": "command",
            "name": "plugin remove",
            "description": "Remove a plugin (deletes installed plugins, just removes the reference to 'add'ed plugins).",
            "params": [
                {
                    "name": "plugin",
                    "type":
                    {
                        "name": "selection",
                        "pointer": "bespin:plugins#getUserPlugins"
                    }
                }
            ],
            "pointer": "commands#remove"
        },
        {
            "ep": "command",
            "name": "plugin install",
            "description": "Install a plugin from a given URL",
            "params": [
                {
                    "name": "url",
                    "type": "pluginURL",
                    "description": "URL where the plugin can be found"
                },
                {
                    "name": "pluginName",
                    "type": "text",
                    "description": "optional name to give the plugin locally",
                    "defaultValue": null
                }
            ],
            "pointer": "commands#install"
        },
        {
            "ep": "type",
            "name": "pluginURL",
            "description": "a valid URL (http/https) from which to install a plugin",
            "pointer": "commands#pluginURL"
        }
    ]
}