<!DOCTYPE html>
<html><head>
<link rel="stylesheet" href="sproutcore.css" type="text/css" />
<link rel="stylesheet" href="bespin.css" type="text/css" />

<script type="text/javascript" src="loader.js"></script>
<script type="text/javascript">
  require.preload(["ref-send", "sandbox", "narwhal/client", "array", "object", "string", "function", "regexp", "reactor", "date", "global", "system", "binary"]);
  require.async("bespin/boot");
</script>

<script type="text/javascript" src="dojo/dojo.js.uncompressed.js"></script>
<script type='text/javascript' src='dojo/regexp.js'></script>
<script type='text/javascript' src='dojo/cookie.js'></script>
<script type='text/javascript' src='dojo/AdapterRegistry.js'></script>
<script type='text/javascript' src='dojo/fx/easing.js'></script>
<script type='text/javascript' src='dijit/_base/place.js'></script>
<!--
<script type='text/javascript' src='th.compressed.js'></script>
-->

<style>
  body { padding: 20px; font-family: Calibri, Helvetica, Arial; }
  h1 { border-bottom: 1px solid #ddd; font-size:120%; }
  .bespin { margin: 0; padding: 0; border: 0; height: 300px; border: 10px solid #ddd; -moz-border-radius: 10px; -webkit-border-radius: 10px; }
</style>
</head>
<body>

<h1>Sample Editor as a Component</h1>
<div id="editor" class="bespin" data-bespinoptions='{ "stealFocus": true }'>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque semper
libero ut tellus accumsan mattis. Praesent gravida mi nec augue porttitor
bibendum. Pellentesque habitant morbi tristique senectus et netus et malesuada
fames ac turpis egestas. Cum sociis natoque penatibus et magnis dis parturient
montes, nascetur ridiculus mus. Donec lobortis lorem ac ligula condimentum
volutpat. Duis nec nibh ut leo posuere consectetur. Cras pharetra, neque vel
sodales fermentum, mi urna iaculis nisi, ac vulputate orci est at mi. Quisque
commodo lacus eget lacus sagittis suscipit. Nullam eleifend massa eu leo
ultrices sollicitudin. Cras quis porta nunc. Mauris pretium libero sed metus
congue aliquet. Ut rutrum ipsum nec lacus ullamcorper ut porttitor odio porta.
Nam orci nisl, rhoncus et tincidunt ac, mattis sed risus. Ut ac massa lorem.
Maecenas ac purus vehicula urna fringilla suscipit vel non libero. Maecenas
vitae tellus sit amet mauris pharetra sodales.

Curabitur iaculis leo eu orci faucibus vel malesuada odio luctus. In hac
habitasse platea dictumst. Donec dapibus sollicitudin eros eget commodo. Donec
commodo dignissim lectus eget semper. Nullam dignissim rhoncus tincidunt.
Phasellus porta libero sit amet odio lobortis tempor. Donec at ipsum nisi, eget
iaculis risus. Nullam id ipsum sit amet tellus iaculis posuere. Proin gravida
tellus vitae metus mattis ultricies. Cras commodo molestie sodales. Donec non
mauris orci, quis consequat nibh. Nulla mi lacus, venenatis elementum feugiat
id, tincidunt non lacus. Nunc sed lorem augue.

Nunc leo libero, accumsan nec tempor et, malesuada ut leo. Phasellus nec arcu
at odio mattis adipiscing ac eu dui. Suspendisse ac arcu odio, non blandit
lacus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Class aptent
taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.
Suspendisse sed est vel justo fringilla hendrerit et at urna. Nam lacinia
hendrerit placerat. Proin accumsan libero eget ligula lacinia nec rutrum eros
tristique. Class aptent taciti sociosqu ad litora torquent per conubia nostra,
per inceptos himenaeos. Phasellus eget diam at arcu dictum malesuada.

Class aptent taciti sociosqu ad litora torquent per conubia nostra, per
inceptos himenaeos. Phasellus suscipit, lacus quis accumsan ornare, sem sapien
tincidunt mi, ut laoreet ante urna non nibh. Phasellus pellentesque aliquet
tincidunt. Ut lectus lacus, volutpat at laoreet pulvinar, commodo eu erat. Ut
blandit ultricies velit quis pellentesque. Vestibulum eu neque non tortor
interdum pulvinar. Donec tincidunt venenatis ante, id sodales lacus
sollicitudin in. Ut elementum ultricies sem in semper. Vestibulum id dui elit,
eu congue nibh. Mauris sodales magna et arcu dictum fringilla. Nunc ac pharetra
tellus. Curabitur porttitor eleifend mi, eu vestibulum risus eleifend ac.
Praesent at velit nec est gravida hendrerit. Etiam dictum, risus in tincidunt
gravida, neque orci tincidunt turpis, vel fringilla purus mauris ut ante.
Mauris vel pretium quam. Phasellus felis est, ornare ut viverra eu, congue ut
lorem. Proin hendrerit imperdiet justo, eu commodo nisi adipiscing in.

Suspendisse potenti. Integer auctor lacus dignissim lorem adipiscing sit amet
scelerisque dui ornare. Aenean bibendum mauris nec dui facilisis suscipit.
Morbi id tellus nisi. Vestibulum cursus metus non tellus tincidunt pretium.
Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus pulvinar
congue euismod. Nulla facilisis malesuada cursus. In tincidunt egestas orci id
tempor. Vivamus commodo hendrerit pulvinar. Cras laoreet molestie ligula, eget
tristique lorem fermentum nec. Curabitur elementum nulla eget nibh luctus ac
porttitor erat blandit. Nam ut arcu id sem ornare tempor a id augue. Proin non
purus sit amet lacus dapibus elementum. Suspendisse potenti. Nullam tortor
elit, commodo id egestas quis, sodales eget justo. Nam hendrerit, risus quis
vehicula euismod, arcu justo feugiat diam, at vehicula sapien nisl at arcu.
Praesent eu nisi augue.
</div>

<script>
window.onBespinLoad = function() {
    console.log("window.onBespinLoad called");
    bespin = document.getElementById("editor").bespin;
};
</script>

<h1>Play with the editor</h1>

<!--
<div>
  <script>
    function setSyntax(value) {
        bespin.set("language", { language: value });
    }
  </script>
  Enter language and blur out: <input type="text" id="syntax" value="" onblur="setSyntax(this.value)">
</div>
-->

<div>
  <script>
    function setSetting() {
        var key = dojo.byId('key').value;
        var value = dojo.byId('value').value;
        console.debug(bespin);
        bespin.set(key, value);
    }
  </script>
  Push a new setting: <input type="text" id="key" value="strictlines">
  <input type="text" id="value" value="on">
  <input type="button" value="set" onclick="setSetting();">
</div>

<div>
  <script>
    function copyToTextarea() {
        dojo.byId('inandout').value = bespin.getContent();
    }
    function copyToEditor() {
        bespin.setContent(dojo.byId('inandout').value);
    }
  </script>
  <textarea id="inandout" cols="100" rows="10"></textarea><br>
  <input type="button" value="Copy to Textarea" onclick="copyToTextarea()">
  <input type="button" value="Copy to Editor" onclick="copyToEditor()">
</div>

</body>
</html>
